@{
    var styleList = ViewBag.StyleList;
}

<div class="row">
    <h1 class="mt-4">Raw Reports</h1>
</div>

<form asp-action="Index" method="post" id="formFilters">
    <div class="row">
        <div class="col-md-2">
            <div class="form-group">
                <label for="dtBegin">Begin</label><br>
                @* <input type="datetime-local" style="width:100% !important;" id="dtBegin" name="dtBegin"> *@
                <input type="date" style="width:100% !important;" id="dtBegin" name="dtBegin">
            </div>
        </div>
        <div class="col-md-2">
            <div class="form-group">
                <label for="dtEnd">End</label><br>
                @* <input type="datetime-local" style="width:100% !important;" id="dtEnd" name="dtEnd"> *@
                <input type="date" style="width:100% !important;" id="dtEnd" name="dtEnd">
            </div>
        </div>
        <div class="col-md-2">
            <div class="form-group">
                <label for="numLote">Lote</label><br>
                <input type="number" onfocusout="controlForSmallerThanZero('numLote')" min="0" style="width:100% !important;" id="numLote" name="numLote">
            </div>
        </div>
        <div class="col-md-2">
            <div class="form-group">
                <label for="numBeam">Beam</label><br>
                <input type="number" onfocusout="controlForSmallerThanZero('numBeam')" min="0" style="width:100% !important;" id="numBeam" name="numBeam">
            </div>
        </div>

        @*        <div class="col-md-2">
        <div class="form-group">
        <label for="numLote">Stop</label><br>
        <input style="width:100% !important;" id="txtStop" name="txtStop">
        </div>
        </div>*@
        <div class="col-md-2">
            <div class="form-group">
                <label for="numLoom">Loom</label><br>
                <input type="number" onfocusout="controlForSmallerThanZero('numLoom')" min="0" style="width:100% !important;" id="numLoom" name="numLoom">
            </div>
        </div>

        <div class="col-md-2">
            <div class="form-group">
                <label for="txtStyle">Style</label><br>
                <input type="text" style="width:100% !important;" id="txtStyle" name="txtStyle" list="styleList">
                <datalist id="styleList">
                    @foreach (var item in styleList)
                    {
                        <option value="@item"></option>
                    }
                </datalist>
            </div>
        </div>

    </div>

    @*SECOND ROW*@
    <div class="row">
        <div class="col-md-2">
            <div class="form-group">
                <label for="numLote">Shift</label><br>
                <input numLote type="number" onfocusout="controlForSmallerThanZero('numShift')" min="0" style="width:100% !important;" id="numShift" name="numShift">
            </div>
        </div>

    </div>

    <div class="row">
        @*         <div class="col-md-12">
        <div class="form-group">
        <input type="radio" id="finishedRawFabricEntrance" name="typeReport" checked value="1" style="zoom: 1.5" />
        <label for="finishedRawFabricEntrance" style="font-size: x-large">Finished Raw Fabric Entrance</label>
        </div>
        </div> *@

        <div class="col-md-12">
            <div class="form-group">
                <input type="radio" id="finishedRawFabricEntranceDetailed" name="typeReport" checked value="4" style="zoom: 1.5" />
                <label for="finishedRawFabricEntranceDetailed" style="font-size: x-large">Finished Raw Fabric Entrance Detailed</label>
                <ul><Label><input id="finishingDetailed" type="radio" name="rawFabricEntranceDetailed" onclick="chageRawFabricEntranceDetailed();" checked /> Acabado</Label> <Label><input id="weavingDetailed" type="radio" name="rawFabricEntranceDetailed" onclick="chageRawFabricEntranceDetailed();" /> Tejido</Label></ul>
            </div>
        </div>

        <div class="col-md-12">
            <div class="form-group">
                <input type="radio" id="rawFabricStock" name="typeReport" value="2" style="zoom: 1.5">
                <label for="rawFabricStock" style="font-size: x-large">Raw Fabric Stock</label>
            </div>
        </div>

        <div class="col-md-12">
            <div class="form-group">
                <input type="radio" id="finishedProcessRawFabric" name="typeReport" value="3" style="zoom: 1.5">
                <label for="finishedProcessRawFabric" style="font-size: x-large">Finished Process Raw Fabric</label>
            </div>
        </div>

        <div class="col-md-12">
            <div class="form-group">
                <input type="radio" id="monthlyFinishingStockReport" name="typeReport" value="5" style="zoom: 1.5">
                <label for="monthlyFinishingStockReport" style="font-size: x-large">Monthly Finishing Stock Report</label>
            </div>
        </div>

        <div class="row">
            <div class="col-sm-12 col-md-12 col-lg-12" style="text-align:left">
                <a onclick="exportToExcel();" class="btn btn-sm btn-success"><i class="far fa-file-excel"></i> Export to Excel</a>
                <a onclick="clearFilters();" class="btn btn-sm btn-outline-info"><i class="lni lni-brush"></i> Clear Filters</a>
            </div>
        </div>

    </div>

    <input type="hidden" id="isFinishingDetailed" name="isFinishingDetailed" />
</form>

<script>


    document.getElementById('dtBegin').value = '@ViewBag.dtBegin.ToString()';
    document.getElementById('dtEnd').value = '@ViewBag.dtEnd.ToString()';
    document.getElementById("numLote").value = '@ViewBag.numLote';
    document.getElementById("numBeam").value = '@ViewBag.numBeam';
    //document.getElementById("txtStop").value = '@ViewBag.txtStop';
    document.getElementById("numLoom").value = '@ViewBag.numLoom';
    document.getElementById("txtStyle").value = '@ViewBag.txtStyle';
    document.getElementById("numShift").value = '@ViewBag.numShift';
    document.getElementById("isFinishingDetailed").value = '@ViewBag.isFinishingDetailed';

    function setIndex() {
        document.getElementById("formFilters").action = "/RawRulo/Index";
        document.getElementById("formFilters").submit();
    }

    function clearFilters() {
        document.getElementById("numLote").value = 0;
        document.getElementById("numBeam").value = 0;
        //document.getElementById("txtStop").value = '';
        document.getElementById("numLoom").value = 0;
        document.getElementById("txtStyle").value = '';
        document.getElementById("numShift").value = 0;
    }

    function exportToExcel() {
        document.getElementById("formFilters").action = "/RawReport/ExportToExcel";
        document.getElementById("formFilters").submit();
    }

    function exportToPDF() {
        document.getElementById("formFilters").action = "/RawReport/ExportToPDF";
        document.getElementById("formFilters").submit();
    }

    function chageRawFabricEntranceDetailed() {
        var selectedValue = document.getElementById("finishingDetailed");
        document.getElementById("isFinishingDetailed").value = selectedValue.checked == true ? true : false;
    }
</script>
